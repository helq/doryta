# Performance estimation of multiple spintronic and CMOS chips using LeNet

This script takes the processed output generated by running four SNN models on Doryta.
To run this script, you must have four files, one per each SNN model:

1. A (small) LeNet SNN trained to classify numbers from MNIST (`sl` for short)
2. A (large) LeNet SNN trained to classify numbers from MNIST (`ll`)
3. A (small) LeNet SNN trained to classify clothing from Fashion-MNIST (`slf`)
4. A (large) LeNet SNN trained to classify clothing from Fashion-MNIST (`llf`)

The preprocessed output data are the last two columns from the `.csv` generated by the
`total_stats.py` script present in `<doryta-root>/tools/general`, and correpond to the
number of integrations (synapses) and fires (neurons) performed by the networks on one
clock cycle.

## Execution

Run the script with:

```bash
dir_to_data="../../../data/experiments/performance_estimation/simplified_xls"
python benchmarking.py --path-ll "$dir_to_data"/large_lenet.xls \
    --path-sl "$dir_to_data"/small_lenet.xls \
    --path-llf "$dir_to_data"/large_lenet_fashion.xls \
    --path-slf "$dir_to_data"/small_lenet_fashion.xls
```

where `dir_to_data` contains the directory where the processed data is stored.

The output of running the script is the figure `combine.eps` (which appears on the paper).

To check the estimated parameters check the `data` global variable in the script (for this
we recommend running the script with the python argument `-i`:
`python -i benchmarking.py ...`)
